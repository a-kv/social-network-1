{"version":3,"sources":["../node_modules/redux-form/es/Form.js","components/Dialogs/Dialogs.module.css","components/Dialogs/Message/Messages.module.css","components/Dialogs/DialodItem/DialogItem.module.css","components/Dialogs/Message/Messages.jsx","components/Dialogs/DialodItem/DialogItem.jsx","components/Dialogs/AddMessageForm.jsx","components/Dialogs/Dialogs.jsx","hoc/withAuthRedirect.js","components/Dialogs/DialogsContainer.jsx"],"names":["Form","_Component","props","_this","call","this","_reduxForm","Error","_inheritsLoose","_proto","prototype","UNSAFE_componentWillMount","registerInnerOnSubmit","onSubmit","render","_this$props","rest","_objectWithoutPropertiesLoose","React","createElement","Component","propTypes","PropTypes","func","isRequired","object","withReduxForm","module","exports","Messages","className","classes","messages","message","DialogItem","path","id","dialog","active","dialogItem","ava","src","to","name","maxLength100","MaxLengthCreator","AddMessageReduxForm","reduxForm","form","handleSubmit","sendMessage","Field","placeholder","component","Textarea","validate","required","Dialogs","state","dialogsPage","dialogsElements","dialogs","map","d","key","messagesElements","m","isAuth","container","dialogsItems","values","newMessageBody","mapStateToPropsForRedirect","auth","compose","connect","dispatch","sendMessageCreator","RedirectComponent"],"mappings":"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","file":"static/js/4.6125586f.chunk.js","sourcesContent":["import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _inheritsLoose from \"@babel/runtime/helpers/inheritsLoose\";\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { withReduxForm } from './ReduxFormContext';\n\nvar Form = /*#__PURE__*/function (_Component) {\n  _inheritsLoose(Form, _Component);\n\n  function Form(props) {\n    var _this;\n\n    _this = _Component.call(this, props) || this;\n\n    if (!props._reduxForm) {\n      throw new Error('Form must be inside a component decorated with reduxForm()');\n    }\n\n    return _this;\n  }\n\n  var _proto = Form.prototype;\n\n  _proto.UNSAFE_componentWillMount = function UNSAFE_componentWillMount() {\n    this.props._reduxForm.registerInnerOnSubmit(this.props.onSubmit);\n  };\n\n  _proto.render = function render() {\n    var _this$props = this.props,\n        _reduxForm = _this$props._reduxForm,\n        rest = _objectWithoutPropertiesLoose(_this$props, [\"_reduxForm\"]);\n\n    return /*#__PURE__*/React.createElement(\"form\", rest);\n  };\n\n  return Form;\n}(Component);\n\nForm.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n  _reduxForm: PropTypes.object\n};\nexport default withReduxForm(Form);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Dialogs_container__3XQiV\",\"dialog\":\"Dialogs_dialog__1Kqe5\",\"dialogsItems\":\"Dialogs_dialogsItems__5aD5j\",\"active\":\"Dialogs_active__3FwY9\",\"messages\":\"Dialogs_messages__1_qvl\",\"message\":\"Dialogs_message__26qhQ\",\"sendMessage\":\"Dialogs_sendMessage__3vguF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"messages\":\"Messages_messages__13-lW\",\"message\":\"Messages_message__2ZB38\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialog\":\"DialogItem_dialog__CvBSM\",\"dialogItem\":\"DialogItem_dialogItem__qJNd0\",\"dialogsItem\":\"DialogItem_dialogsItem__Pi-Y-\",\"active\":\"DialogItem_active__2W6Uw\",\"messages\":\"DialogItem_messages__26K7Z\",\"message\":\"DialogItem_message__ND9Ay\",\"ava\":\"DialogItem_ava___0vk3\"};","import React from 'react';\r\nimport classes from './Messages.module.css';\r\n\r\nconst Messages = (props) => {\r\n    return <div className={classes.messages}>\r\n        <div className={classes.message}>\r\n        {props.message}\r\n        </div>\r\n    </div>\r\n}\r\n\r\n\r\nexport default Messages;\r\n","import React from 'react';\r\nimport classes from './DialogItem.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport PropTypes, {string} from 'prop-types';\r\n\r\nconst DialogItem = (props) => {\r\n    let path = \"/dialogs/\" + props.id;\r\n\r\n    return <div className={classes.dialog + ' ' + classes.active}>\r\n        <div className={classes.dialogItem}>\r\n            <img className={classes.ava} src=\"https://image.flaticon.com/icons/svg/194/194938.svg\"/>\r\n            <NavLink to={path}>{props.name}</NavLink>\r\n        </div>\r\n    </div>\r\n\r\n}\r\n\r\nexport default DialogItem;\r\nDialogItem.propTypes = {\r\n    name: PropTypes.string\r\n};","import React from 'react';\r\nimport classes from './Dialogs.module.css';\r\nimport {Field, Form, reduxForm} from \"redux-form\";\r\nimport {MaxLengthCreator, required} from \"../../utils/validator/validators\";\r\nimport {Textarea} from \"../common/forms-controls/FormsControl\";\r\n\r\nconst maxLength100 = MaxLengthCreator(100);\r\n\r\nconst AddMessageForm = (props) => {\r\n    return (\r\n        <Form onSubmit={props.handleSubmit}>\r\n            <div className={classes.sendMessage}>\r\n                <Field placeholder='Enter your massage...'\r\n                       component={Textarea}\r\n                       validate={[required, maxLength100 ]}\r\n                       name='newPostText'/>\r\n            </div>\r\n            <div><button>Send</button></div>\r\n        </Form>\r\n    )\r\n}\r\n\r\nexport const AddMessageReduxForm = reduxForm({\r\n    form: 'dialog-add-message-form' //unigue title\r\n})(AddMessageForm)\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport classes from './Dialogs.module.css';\r\nimport Messages from \"./Message/Messages\";\r\nimport DialogItem from \"./DialodItem/DialogItem\"\r\nimport {Redirect} from \"react-router-dom\";\r\nimport  {AddMessageReduxForm} from \"./AddMessageForm\";\r\n\r\nconst Dialogs = (props) => {\r\n\r\n    let state = props.dialogsPage;\r\n\r\n    let dialogsElements = state.dialogs.map(d => <DialogItem name={d.name} key={d.id} id={d.id}/>);\r\n    let messagesElements = state.messages.map(m => <Messages message={m.message} key={m.id}/>);\r\n\r\n    let addMessage = (values) => {\r\n        props.sendMessage(values.newMessageBody)\r\n        // props.sendMessage(values.newMessageBody);\r\n    }\r\n\r\n    if (!props.isAuth) return <Redirect to={\"/login\"}/>;\r\n\r\n    return <div className={classes.container}>\r\n        <div className={classes.dialogsItems}>\r\n            {dialogsElements}\r\n        </div>\r\n        <div className={classes.messages}>\r\n            <div>{messagesElements}</div>\r\n        </div>\r\n        <AddMessageReduxForm onSubmit={addMessage}/>\r\n    </div>\r\n}\r\n\r\nexport default Dialogs;\r\n\r\n\r\n","import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n//\r\n\r\nlet mapStateToPropsForRedirect = (state) =>{\r\n    return ({\r\n        isAuth: state.auth.isAuth\r\n    });\r\n\r\n}\r\nexport const withAuthRedirect = (Component) => {\r\n    class RedirectComponent extends React.Component {\r\n        render() {\r\n            if (this.props.isAuth === false) return <Redirect to=\"/login/\"/>\r\n            return <Component {...this.props}/>\r\n        }\r\n    }\r\n\r\n    let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n    return ConnectedAuthRedirectComponent;\r\n}\r\n\r\n","import React from 'react';\r\nimport {sendMessageCreator} from \"../../redux/dialogs-reducer\";\r\nimport Dialogs from \"./Dialogs\";\r\nimport {connect} from \"react-redux\";\r\nimport {compose} from \"redux\";\r\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        dialogsPage: state.dialogsPage,\r\n    }\r\n}\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        sendMessage: (newMessageBody) => {\r\n            dispatch(sendMessageCreator(newMessageBody));\r\n        }\r\n    }\r\n}\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n)(Dialogs)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//HOC\r\n// let AuthRedirectComponent = withAuthRedirect(Dialogs);\r\n// const  DialogsContainer  = connect(mapStateToProps, mapDispatchToProps)(AuthRedirectComponent);\r\n// export default DialogsContainer;\r\n\r\n\r\n//connect - функция, ктрю вызываем в помощью замыкания возращает хок\r\n\r\n// export default compose(\r\n//     connect(mapStateToProps, mapDispatchToProps),\r\n//     // withAuthRedirect\r\n// )(Dialogs);\r\n//     (props) => {\r\n//     if (!this.props.isAuth) return <Redirect to='/login'/>\r\n//     return <Dialogs {...props}/>\r\n// }\r\n// let AuthRedirect = withAuthRedirect(Dialogs)"],"sourceRoot":""}